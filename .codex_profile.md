# Codex Profile — SYSGrow

## Purpose
I like the new design of the dashboard, Unify the UI across all pages (light + dark themes), centralize colors in `static/css/theme.css` and keep page wrappers.

## Tech baseline
- Server: Flask + Jinja2 templates (no Redis/Streams/Prometheus).
- Frontend: static CSS with design tokens in `static/css/theme.css`.
- JS: keep existing IDs/classes used by scripts (Socket.IO, charts, etc.).

## Styling Principles
- **Tokens are law**: All colors and spacing come from `static/css/theme.css`.
- `theme.css` (tokens) → `base.css` (reset, typography, shared buttons/cards/tables/badges) → `layout.css` (header/sidebar/footer shell) → `navigation.css` → `forms.css` → `tables.css` → `components.css` → page CSS (e.g., `dashboard.css`, `units.css`, `status.css`, `auth.css`).

- Use `var(--brand-*)`, `var(--bg-*)`, `var(--color-*)`, `var(--text-*)`, semantic `--success-*`, `--warning-*`, `--danger-*`, `--info-*`.
- Do not introduce raw hex codes in app CSS (images exempt).
- **Wrappers**: every page must include one of
  - `.dashboard-page`  `.units-page`  `.status-page`  `.auth-page`
- **No inline CSS** in templates. Use classes only.
- **Shared components**: buttons, inputs, cards, chips, badges live in CSS classes (not per-page overrides).
- **Accessibility**: focus states visible; min 4.5:1 contrast for body text.

## Theming Guidelines
**Light/Dark modes**:
   - Respect `:root[data-theme="light"]` and `:root[data-theme="dark"]` variants already present in `theme.css`.
   - Do not use inline styles to force colors.

## Common
 **Components**:
   - Buttons: `.btn`, `.btn-primary`, `.btn-secondary`, `.btn-outline`, `.btn-danger`, etc.
   - Cards: `.card` using surface tokens and radii; shadows from tokens.
   - Tables: `.table`, `.table-container` with surface/border tokens.
   - Badges/Chips: `.badge`, `.status-indicator`.
   - KPI: `.kpi-card` + optional `.kpi-icon` (Font Awesome friendly).

**Accessibility & performance**
   - Maintain sufficient color contrast (titles/subtitles must be clearly readable).
   - Prefer classes over inline styles for caching.
   - Respect `prefers-reduced-motion`.

## Templates (Jinja)
- Always extend `base.html`. Keep the `<head>` links for:
  - `static/css/theme.css`
  - `static/css/base.css`
- Keep macro usage intact. Preserve existing element IDs that JS expects.
- Use the wrapper class for each page. Avoid inline `style=`.
## Design language
- Nature-centric, modern UI; primary action color = `var(--brand-600)` (hover `--brand-700`), accent = `var(--bg-5)` and telemetry accent `var(--sky-500)`.
- Light/Dark support is **token-driven**. Never hardcode colors; always use CSS variables from theme.
- Contrast: all headings, labels, and inputs must pass AA in both themes.

## What to do when editing
1. If you see a hard-coded hex color: replace with a token (`var(--...)`).
2. If a template is missing a wrapper: add the correct wrapper class.

Guardrails

Do not remove or rename theme.css / base.css head includes.

Don’t alter API routes or business logic.

Don’t add Redis/metrics infra.

Keep JS IDs/hooks stable.

Done definition

No inline styles in templates; styles live in CSS and use tokens.

Both themes render correctly when data-theme is toggled.

All pages share the same header/background rhythm and wrapper.

CSS lint passes; tests (incl. event map) pass.

Short CHANGELOG summarizing affected files and reasons.

## Do/Don’t
- ✅ Do use `macros.html` for form fields.
- ✅ Do keep `theme.css` + `base.css` linked in `base.html`.
- ❌ Don’t ship per-page color overrides unless wrapped in a component class and sourced from tokens.
- ❌ Don’t invent new libs (no Tailwind/Bootstrap introduction).
