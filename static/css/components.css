/* =====================================================================
   Components — main entry point
   Sub-modules (split from this file for maintainability):
     components/buttons.css          — .btn variants, sizes, shimmer
     components/modals.css           — dialogs, health modals, flash messages
     components/charts.css           — Chart.js containers, ML controls, annotations
     components/sensor-analytics.css — .sensor-analytics-page scoped styles
     components/plant-devices.css    — plant device management modals & toasts
   Shared primitives (cards, grids, badges, forms) remain below.
   ===================================================================== */
@import 'components/buttons.css';
@import 'components/modals.css';
@import 'components/charts.css';
@import 'components/sensor-analytics.css';
@import 'components/plant-devices.css';

/* =====================================================================
   Dashboard & AI Grid Layouts
   ===================================================================== */
.dashboard-kpi-grid,
.dashboard-kpi-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-4);
  margin-bottom: var(--section-gap);
  width: 100%;
  flex: 1;
}

.dashboard-ai-grid,
.predictions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-4);
  margin-bottom: var(--section-gap);
  width: 100%;
  flex: 1;
}

.dashboard-ai-detail-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: var(--space-4);
  margin-bottom: var(--section-gap);
  width: 100%;
  flex: 1;
}

.dashboard-sensor-grid,
.dashboard-sensors-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: var(--space-3);
  margin-bottom: var(--section-gap);
  width: 100%;
  flex: 1;
}

/* =====================================================================
   Alert Timeline (Intelligent Alerts)
   ===================================================================== */
/* Intelligent Alert Timeline */
#intelligent-alert-timeline-container,
.intelligent-alert-timeline {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  padding: var(--space-1);
  width: 100%;
}

.alert-item {
  display: flex;
  gap: var(--space-3);
  padding: var(--space-3);
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-md);
  transition: all var(--transition-fast);
}

.alert-item:hover {
  transform: translateX(4px);
  border-color: var(--brand-300);
  box-shadow: var(--shadow-sm);
}

.alert-item--critical { border-left: 4px solid var(--danger-500); }
.alert-item--warning { border-left: 4px solid var(--warning-500); }
.alert-item--info { border-left: 4px solid var(--info-500); }

.alert-item__icon {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-sm);
  background: var(--surface-muted-translucent);
  color: var(--color-text-muted);
  flex-shrink: 0;
}

.alert-item--critical .alert-item__icon { background: var(--danger-100); color: var(--danger-700); }
.alert-item--warning .alert-item__icon { background: var(--warning-100); color: var(--warning-700); }
.alert-item--info .alert-item__icon { background: var(--info-100); color: var(--info-700); }

.alert-item__content { flex: 1; min-width: 0; }
.alert-item__title { font-weight: 600; margin: 0 0 var(--space-1); font-size: 0.95rem; }
.alert-item__message { font-size: 0.85rem; color: var(--color-text-muted); margin: 0; }
.alert-item__meta { margin-top: var(--space-2); font-size: 0.75rem; color: var(--color-text-muted); display: flex; gap: var(--space-3); }

/* KPI Card & Stat Card Base */
.kpi-card, .stat-card, .ai-prediction-card {
  position: relative;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
  transition: all var(--transition-fast);
  overflow: hidden;
}

.kpi-card:hover, .stat-card:hover, .ai-prediction-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: var(--brand-300);
}

.kpi-card::before, .stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: var(--brand-500);
  opacity: 0;
  transition: opacity 0.2s;
}

.kpi-card:hover::before, .stat-card:hover::before {
  opacity: 1;
}

/* Card header/body for macros */
.kpi-card__icon, .stat-card__icon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--surface-muted-translucent);
  border-radius: var(--radius-md);
  font-size: 1.25rem;
  margin-bottom: var(--space-2);
}

.kpi-card__body, .stat-card__body {
  display: flex;
  flex-direction: column;
}

.kpi-value, .stat-value {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text-strong);
  line-height: 1.1;
}

.kpi-label, .stat-label {
  font-size: 0.85rem;
  color: var(--color-text-muted);
}

/* =====================================================================
   Cards & Surfaces
   ===================================================================== */
.card {
  display: flex;
  flex-direction: column;
  background: var(--gradient-card);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--card-shadow);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  overflow: hidden;
  position: relative;
}

.card-header {
  padding: var(--space-3) var(--space-4);
  background: rgba(var(--color-surface-rgb), 0.3);
  border-bottom: 1px solid var(--card-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-3);
}

.card-header h3 {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: var(--space-2);
  color: var(--color-text);
}

.card-header h3 i {
  color: var(--brand-500);
}

.card-header-main {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.card-header-extra {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.card-body {
  padding: var(--space-4);
  flex: 1;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

/* Hover accent overlay */
.card::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(135deg, color-mix(in srgb, var(--brand-500) 0%, transparent) 0%, color-mix(in srgb, var(--brand-500) 3%, transparent) 100%);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
  z-index: 0;
}

.card:hover::after {
  opacity: 1;
}

.card-link,
a.card {
  display: block;
  color: inherit;
  text-decoration: none;
}
.card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-2);
  margin-bottom: var(--space-2);
}
.card-body { display: flex; flex-direction: column; gap: var(--space-3); }

/* Ensure card content is above overlay */
.card > * {
  position: relative;
  z-index: 1;
}

/* Enhanced card-header */
.card-header h2 i,
.card-header h3 i {
  color: var(--brand-600);
}

/* Colored accent variants (additions) */
.card-accent-success {
  border-left: 4px solid var(--success-600);
  background: color-mix(in srgb, var(--success-500) 2%, var(--card-bg));
}

.card-accent-warning {
  border-left: 4px solid var(--warning-600);
  background: color-mix(in srgb, var(--warning-500) 2%, var(--card-bg));
}

.card-accent-danger {
  border-left: 4px solid var(--danger-600);
  background: color-mix(in srgb, var(--danger-500) 2%, var(--card-bg));
}

.card-accent-info {
  border-left: 4px solid var(--info-600);
  background: color-mix(in srgb, var(--info-500) 2%, var(--card-bg));
}

.surface {
 background: var(--color-surface);
 border: 1px solid var(--card-border);
 border-radius: var(--radius-lg);
 box-shadow: var(--card-shadow); 
 padding: var(--space-4);
 transition: background-color var(--transition-normal);
}
.surface-soft { background: var(--card-bg-muted); border: 1px solid var(--card-border); border-radius: var(--radius-lg); }
.surface-header { padding: var(--space-4); margin-bottom: var(--section-gap); }

.section-title { display: flex; align-items: center; gap: var(--space-2); font-size: 1.2rem; margin: 0 0 var(--space-2); color: var(--color-text-strong); }

.pill--ok { background: rgba(34,197,94,.15); border-color: rgba(34,197,94,.3); }
.pill--bad { background: rgba(239,68,68,.15); border-color: rgba(239,68,68,.3); }

.pill {
  display:inline-flex;
  align-items: center;
  gap: var(--space-2);
  background: var(--pill-bg);
  border: 1px solid var(--pill-border);
  color: var(--color-text-muted);
  padding: var(--space-2) var(--space-3);
  border-radius: 999px;
  font-weight: 600;
  font-size: 0.9rem;
  transition: background-color var(--transition-fast);
}
.pill:hover {
  background: var(--color-surface-hover);
}

.chip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: 4px 10px;
  border-radius: var(--radius-md);
  border: 1px solid var(--chip-border);
  background: var(--chip-bg);
  font-size: 0.85rem;
  color: var(--color-text);
  transition: background-color var(--transition-fast);
}
.chip:hover {
  background: var(--color-surface-hover);
}

.badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-1);
  padding: 0.25rem 0.75rem;
  border-radius: var(--radius-md);
  font-size: 0.85rem;
  font-weight: 600;
  transition: all var(--transition-fast);
}
.badge.badge-success { background: var(--success-100); color: var(--success-600); border: 1px solid var(--success-200); }
.badge.badge-warning { background: var(--warning-100); color: var(--warning-600); border: 1px solid var(--warning-200); }
.badge.badge-danger { background: var(--danger-100); color: var(--danger-600); border: 1px solid var(--danger-200); }
.badge.badge-info { background: var(--info-100); color: var(--info-600); border: 1px solid var(--info-200); }

/* Legacy support */
.badge.success { background: var(--success-100); color: var(--success-600); }
.badge.warning { background: var(--warning-100); color: var(--warning-600); }
.badge.danger { background: var(--danger-100); color: var(--danger-600); }
.badge.info { background: var(--info-100); color: var(--info-600); }

/* Status dot for badges */
.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  display: inline-block;
  background: currentColor;
  animation: pulse-status 2s ease-in-out infinite;
}

.badge.badge-success .status-dot { background: var(--success-500); }
.badge.badge-warning .status-dot { background: var(--warning-500); }
.badge.badge-danger .status-dot { background: var(--danger-500); animation: pulse-critical 1.5s ease-in-out infinite; }
.badge.badge-info .status-dot { background: var(--info-500); }

@keyframes pulse-status {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(0.9); }
}

@keyframes pulse-critical {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.4; transform: scale(0.85); }
}

.status-indicator {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: 6px 12px;
  border-radius: 999px;
  font-weight: 600;
  font-size: 0.9rem;
  border: 1px solid var(--border-200);
  background: var(--surface-muted-translucent);
  color: var(--color-text);
}
.status-indicator.connected { background: var(--success-100); color: var(--success-600); border-color: var(--success-100); }
.status-indicator.disconnected { background: var(--danger-100); color: var(--danger-600); border-color: var(--danger-100); }

.stats-grid, .kpi-grid { 
  display: grid; 
  gap: var(--space-4); 
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
  margin-bottom: var(--space-5);
}

/* KPI Cards - Standardized Compact Design */
.kpi-card, .stat-card {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-2) var(--space-3);
  display: flex;
  align-items: center;
  gap: var(--space-3);
  transition: all 0.2s;
  position: relative;
  overflow: hidden;
  min-height: 64px;
}

.kpi-card::before, .stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 3px;
  bottom: 0;
  background: var(--brand-600);
  opacity: 0;
  transition: opacity var(--transition-fast);
}

.kpi-card:hover, .stat-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: var(--brand-300);
}

.kpi-card:hover::before, .stat-card:hover::before {
  opacity: 1;
}

.kpi-card__icon, .kpi-icon, .stat-icon {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--surface-muted);
  color: var(--kpi-color, var(--brand-600));
  border-radius: var(--radius-md);
  font-size: 1rem;
  transition: background-color var(--transition-fast), color var(--transition-fast);
  flex-shrink: 0;
}

.kpi-card__body, .kpi-content, .stat-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  min-width: 0;
}

.kpi-card .kpi-value, .stat-card .stat-value {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--color-text-strong);
  line-height: 1.2;
}

.kpi-card .kpi-label, .stat-card .stat-label {
  font-size: 0.75rem;
  color: var(--color-text-muted);
  margin: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.kpi-footer {
  font-size: 0.75rem;
  margin-top: var(--space-1);
}

/* Metrics Strip - Used in Devices and System Health */
.metrics-strip {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.metric-pill {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-md);
  padding: var(--space-2) var(--space-4);
  display: flex;
  align-items: center;
  gap: var(--space-2);
  box-shadow: var(--shadow-sm);
  transition: transform var(--transition-fast);
}

.metric-pill:hover {
  transform: translateY(-1px);
}

.metric-pill i {
  font-size: 1.1rem;
  color: var(--brand-600);
}

.metric-pill.alert-pill i {
  color: var(--warning-600);
}

.metric-value {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--color-text-strong);
  line-height: 1;
}

.metric-label {
  font-size: 0.75rem;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.025em;
}

.kpi-meta { 
  color: var(--color-text-muted); 
  font-size: 0.75rem; 
  margin-top: var(--space-1);
}

/* Variants */
.stat-card.success .stat-icon,
.kpi-card.success .kpi-icon { background: var(--success-100); color: var(--success-700); }
.stat-card.success:hover,
.kpi-card.success:hover { border-color: var(--success-300); }
.stat-card.success::before,
.kpi-card.success::before { background: var(--success-500); }

.stat-card.warning .stat-icon,
.kpi-card.warning .kpi-icon { background: var(--warning-100); color: var(--warning-700); }
.stat-card.warning:hover,
.kpi-card.warning:hover { border-color: var(--warning-300); }
.stat-card.warning::before,
.kpi-card.warning::before { background: var(--warning-500); }

.stat-card.danger .stat-icon,
.kpi-card.danger .kpi-icon { background: var(--danger-100); color: var(--danger-700); }
.stat-card.danger:hover,
.kpi-card.danger:hover { border-color: var(--danger-300); }
.stat-card.danger::before,
.kpi-card.danger::before { background: var(--danger-500); }

.stat-card.info .stat-icon,
.kpi-card.info .kpi-icon { background: var(--info-100); color: var(--info-700); }
.stat-card.info:hover,
.kpi-card.info:hover { border-color: var(--info-300); }
.stat-card.info::before,
.kpi-card.info::before { background: var(--info-500); }

/* Health-specific variants for dashboard */
.kpi-card.health-excellent .kpi-icon { background: var(--success-100); color: var(--success-700); }
.kpi-card.health-excellent:hover { border-color: var(--success-300); }
.kpi-card.health-excellent::before { background: var(--success-500); opacity: 1; }

.kpi-card.health-good .kpi-icon { background: var(--info-100); color: var(--info-700); }
.kpi-card.health-good:hover { border-color: var(--info-300); }
.kpi-card.health-good::before { background: var(--info-500); opacity: 1; }

.kpi-card.health-warning .kpi-icon { background: var(--warning-100); color: var(--warning-700); }
.kpi-card.health-warning:hover { border-color: var(--warning-300); }
.kpi-card.health-warning::before { background: var(--warning-500); opacity: 1; }

.kpi-card.health-critical .kpi-icon { background: var(--danger-100); color: var(--danger-700); }
.kpi-card.health-critical:hover { border-color: var(--danger-300); }
.kpi-card.health-critical::before { background: var(--danger-500); opacity: 1; }

.filter-bar {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-3);
  box-shadow: var(--card-shadow);
  margin-bottom: var(--section-gap);
}
.filter-group { display: flex; flex-direction: column; gap: var(--space-1); min-width: 160px; }
.filter-actions { margin-left: auto; display: flex; gap: var(--space-2); align-items: center; }

/* Utility classes */
.flex { display: flex; }
.gap-1 { gap: var(--space-1); }
.gap-2 { gap: var(--space-2); }
.gap-3 { gap: var(--space-3); }
.align-center { align-items: center; }
.justify-center { justify-content: center; }
.flex-col { flex-direction: column; }
.sensor-card {
  display: flex;
  gap: var(--space-3);
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  border: 1px solid var(--card-border);
  background: var(--card-bg);
  box-shadow: var(--card-shadow);
  transition: all var(--transition-normal);
  position: relative;
  overflow: hidden;
}

.sensor-card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

/* Stale sensor warning */
.sensor-card.stale {
  border-color: var(--warning-300);
  background: linear-gradient(135deg, var(--card-bg) 0%, var(--warning-50) 100%);
}

.sensor-card.stale::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: var(--warning-500);
  animation: pulse-warning 2s ease-in-out infinite;
}

.sensor-card.stale .sensor-status {
  background: var(--warning-100);
  color: var(--warning-700);
  border-color: var(--warning-300);
}

.sensor-card.stale .sensor-icon {
  opacity: 0.7;
  filter: grayscale(30%);
}

@keyframes pulse-warning {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* Offline sensor */
.sensor-card.offline {
  border-color: var(--danger-200);
  background: var(--surface-muted);
  opacity: 0.7;
}

.sensor-card.offline .sensor-value {
  color: var(--color-text-muted);
}

.sensor-card.offline .sensor-icon {
  filter: grayscale(100%);
  opacity: 0.5;
}

/* Extracted: see components/modals.css */


/* -------------------------------------------------------------------------- */
/* Plant cards (shared: dashboard + plants guide/hub)                          */
/* -------------------------------------------------------------------------- */
.plant-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: var(--space-3);
}

.plant-card {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-3);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast);
  position: relative;
  overflow: hidden;
}

.plant-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: var(--brand-300);
}

.plant-header {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  margin-bottom: var(--space-3);
}

.plant-avatar {
  width: 48px;
  height: 48px;
  border-radius: var(--radius-md);
  display: grid;
  place-items: center;
  font-size: 1.5rem;
  background: var(--surface-muted-translucent);
  border: 1px solid var(--card-border);
  flex-shrink: 0;
}

.plant-info {
  flex: 1;
  min-width: 0;
}

.plant-name {
  font-weight: 700;
  color: var(--color-text-strong);
  margin-bottom: var(--space-1);
  font-size: 1rem;
}

.plant-type {
  font-size: 0.8rem;
  color: var(--color-text-muted);
}

.plant-stats {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.plant-stat {
  padding: 4px var(--space-2);
  background: var(--surface-muted-translucent);
  border: 1px solid var(--border-200);
  border-radius: var(--radius-sm);
  font-size: 0.75rem;
  color: var(--color-text-muted);
  font-weight: 600;
}

/* -------------------------------------------------------------------------- */
/* Action Buttons (Quick Actions)                                             */
/* -------------------------------------------------------------------------- */
.action-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-3);
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-lg);
  color: var(--color-text);
  font-size: 0.85rem;
  font-weight: 700;
  cursor: pointer;
  transition: all var(--transition-fast);
  min-height: 90px;
  text-align: center;
}

.action-btn:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: var(--brand-600);
  color: var(--brand-700);
}

.action-btn .icon { font-size: 1.75rem; color: var(--brand-600); }

.action-btn.active {
  background: var(--brand-600);
  color: var(--color-on-brand);
  border-color: var(--brand-600);
}

.action-btn.active .icon { color: inherit; }

/* -------------------------------------------------------------------------- */
/* Trend Indicators (Sparklines/Pills)                                        */
/* -------------------------------------------------------------------------- */
.trend-pill {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 600;
  background: var(--surface-muted-translucent);
  border: 1px solid var(--border-200);
}

.trend-pill.up { color: var(--success-600); }
.trend-pill.down { color: var(--danger-600); }
.trend-pill.neutral { color: var(--color-text-muted); }

.trend-sparkline {
  width: 44px;
  height: 18px;
}

.trend-sparkline polyline {
  fill: none;
  stroke: currentColor;
  stroke-width: 2.5;
  stroke-linejoin: round;
  stroke-linecap: round;
}

/* -------------------------------------------------------------------------- */
/* AI Health Banner                                                           */
/* -------------------------------------------------------------------------- */
.ai-health-banner {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-4);
  background: var(--gradient-primary);
  color: var(--color-on-brand);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  margin-bottom: var(--space-4);
}

.ai-health-banner.warning {
  background: var(--gradient-warning);
}

.ai-health-banner.critical {
  background: var(--gradient-danger);
}

.ai-banner-icon {
  width: 56px;
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.2);
  border-radius: var(--radius-lg);
  font-size: 1.75rem;
  flex-shrink: 0;
}

.ai-banner-content { flex: 1; min-width: 0; }

.ai-banner-title {
  font-size: 0.85rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0 0 var(--space-1);
  opacity: 0.92;
}

.ai-score-display {
  display: flex;
  align-items: baseline;
  gap: var(--space-1);
  margin-bottom: var(--space-1);
}

.ai-score-value { font-size: 2.5rem; font-weight: 800; line-height: 1; }
.ai-score-label { font-size: 1.25rem; opacity: 0.75; }
.ai-banner-subtitle { margin: 0; font-size: 0.95rem; opacity: 0.92; }

.ai-banner-actions { display: flex; gap: var(--space-2); }

.ai-banner-insight {
  flex: 2;
  min-width: 250px;
  padding: var(--space-3);
  background: rgba(255, 255, 255, 0.15);
  border-radius: var(--radius-md);
  margin: 0 var(--space-1);
}

.ai-insight-content {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: 0.9rem;
}

/* -------------------------------------------------------------------------- */
/* Actuators & Controls                                                       */
/* -------------------------------------------------------------------------- */
.actuators-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: var(--space-3);
}

.actuator-control {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  padding: var(--space-4);
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-lg);
  transition: all var(--transition-fast);
  position: relative;
}

.actuator-control:hover {
  border-color: var(--brand-400);
  box-shadow: var(--shadow-md);
}

.actuator-control__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.actuator-control__name {
  font-weight: 700;
  color: var(--color-text-strong);
  font-size: 0.95rem;
}

/* Toggle Switch Component */
.ui-toggle {
  position: relative;
  display: inline-block;
  width: 44px;
  height: 24px;
}

.ui-toggle input {
  opacity: 0;
  width: 0;
  height: 0;
}

.ui-toggle-slider {
  position: absolute;
  cursor: pointer;
  inset: 0;
  background-color: var(--border-300);
  transition: 0.4s;
  border-radius: 24px;
}

.ui-toggle-slider:before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: 0.4s;
  border-radius: 50%;
  box-shadow: var(--shadow-sm);
}

input:checked + .ui-toggle-slider {
  background-color: var(--success-500);
}

input:focus + .ui-toggle-slider {
  box-shadow: 0 0 1px var(--success-500);
}

input:checked + .ui-toggle-slider:before {
  transform: translateX(20px);
}

/* Actuator specifics */
.actuator-control__toggle {
  width: 44px;
  height: 24px;
  background: var(--border-300);
  border: none;
  border-radius: 12px;
  cursor: pointer;
  position: relative;
  transition: background var(--transition-fast);
}

.actuator-control__toggle::after {
  content: '';
  position: absolute;
  left: 2px;
  top: 2px;
  width: 20px;
  height: 20px;
  background: white;
  border-radius: 50%;
  transition: transform var(--transition-fast);
}

.actuator-control__toggle.on {
  background: var(--success-500);
}

.actuator-control__toggle.on::after {
  transform: translateX(20px);
}

.actuator-control__power {
  font-size: 0.85rem;
  color: var(--color-text-muted);
}

.actuator-control__power strong {
  color: var(--color-text-strong);
}

/* -------------------------------------------------------------------------- */
/* Connectivity & Alerts List Items                                           */
/* -------------------------------------------------------------------------- */
.connectivity-list, .alerts-list, .activity-feed {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.list-item {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3);
  background: var(--surface-muted-translucent);
  border: 1px solid var(--border-200);
  border-radius: var(--radius-md);
  transition: background var(--transition-fast);
}

.list-item:hover {
  background: var(--surface-strong-translucent);
}

.list-item-icon {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  background: var(--card-bg);
  flex-shrink: 0;
  font-size: 1.1rem;
}

.list-item-content { flex: 1; min-width: 0; }
.list-item-title { font-weight: 600; color: var(--color-text-strong); margin-bottom: 2px; }
.list-item-subtitle { font-size: 0.8rem; color: var(--color-text-muted); }

.alert-item {
  border-left: 4px solid var(--warning-500);
}
.alert-item.critical { border-left-color: var(--danger-500); }
.alert-item.info { border-left-color: var(--info-500); }

/* Quick Stats */
.quick-stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: var(--space-3);
}

.quick-stat {
  display: flex;
  flex-direction: column;
  padding: var(--space-3);
  background: var(--surface-muted-translucent);
  border-radius: var(--radius-md);
  border: 1px solid var(--border-200);
  transition: transform var(--transition-fast);
}

.quick-stat:hover {
  transform: translateY(-2px);
  background: var(--surface-strong-translucent);
}

.quick-stat__value {
  font-size: 1.6rem;
  font-weight: 800;
  color: var(--color-text-strong);
  line-height: 1;
  margin-bottom: var(--space-1);
}

.quick-stat__label {
  font-size: 0.75rem;
  color: var(--color-text-muted);
  text-transform: uppercase;
  font-weight: 700;
  letter-spacing: 0.05em;
}


/* Extracted: see components/charts.css */

/* Extracted: see components/sensor-analytics.css */

/* Extracted: see components/plant-devices.css */

/* =============================================
   CONTEXTUAL HELP LINKS
   ============================================= */

.help-link {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  font-size: 0.8125rem;
  color: var(--brand-600);
  text-decoration: none;
  background: var(--brand-50);
  border: 1px solid var(--brand-200);
  border-radius: var(--radius-full);
  transition: all var(--transition-fast);
}

.help-link:hover {
  background: var(--brand-100);
  border-color: var(--brand-300);
  color: var(--brand-700);
}

[data-theme="dark"] .help-link {
  background: var(--brand-900);
  border-color: var(--brand-800);
}

[data-theme="dark"] .help-link:hover {
  background: var(--brand-800);
  border-color: var(--brand-700);
  color: var(--brand-300);
}

.help-link i {
  font-size: 0.875rem;
}

/* Help tooltip - small inline icon */
.help-tooltip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  margin-left: var(--space-1);
  color: var(--color-text-muted);
  text-decoration: none;
  transition: color var(--transition-fast);
}

.help-tooltip:hover {
  color: var(--brand-600);
}

.help-tooltip i {
  font-size: 0.875rem;
}

/* Help banner - full width contextual help */
.help-banner {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  background: var(--brand-50);
  border: 1px solid var(--brand-200);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-4);
  transition: border-radius 0.2s ease, padding 0.2s ease;
}

[data-theme="dark"] .help-banner {
  background: var(--brand-900);
  border-color: var(--brand-800);
}

.help-banner > i:first-child {
  font-size: 1.25rem;
  color: var(--brand-600);
  flex-shrink: 0;
}

.help-banner-content {
  flex: 1;
}

.help-banner-title {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text-strong);
  margin: 0 0 var(--space-1);
}

.help-banner-text {
  font-size: 0.8125rem;
  color: var(--color-text-muted);
  margin: 0;
}

.help-banner .btn {
  flex-shrink: 0;
}

/* Dismiss button */
.help-banner-dismiss {
  background: none;
  border: none;
  cursor: pointer;
  padding: var(--space-1) var(--space-2);
  color: var(--color-text-muted);
  opacity: 0.55;
  flex-shrink: 0;
  border-radius: var(--radius-sm);
  margin-left: auto;
  line-height: 1;
  font-size: 0.875rem;
  transition: opacity 0.15s ease, background 0.15s ease;
}

.help-banner-dismiss:hover {
  opacity: 1;
  background: rgba(0, 0, 0, 0.06);
}

[data-theme="dark"] .help-banner-dismiss:hover {
  background: rgba(255, 255, 255, 0.1);
}

/* Collapsed / icon-only state */
.help-banner--collapsed {
  display: inline-flex;
  padding: var(--space-2) var(--space-3);
  border-radius: 2rem;
  cursor: pointer;
  width: auto;
  margin-bottom: var(--space-4);
}

.help-banner--collapsed .help-banner-content,
.help-banner--collapsed .help-banner-dismiss,
.help-banner--collapsed > .btn {
  display: none;
}

/* Hover: re-expand the collapsed banner */
.help-banner--collapsed:hover {
  border-radius: var(--radius-md);
  padding: var(--space-3) var(--space-4);
}

.help-banner--collapsed:hover .help-banner-content {
  display: block;
  flex: 1;
}

.help-banner--collapsed:hover .help-banner-dismiss {
  display: inline-flex;
}

.help-banner--collapsed:hover > .btn {
  display: inline-flex;
}

/* =====================================================================
   Alert / Banner Component
   Bootstrap-compatible .alert + semantic variant classes.
   ===================================================================== */

.alert {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  border-radius: var(--radius-md);
  border: 1px solid transparent;
  font-size: 0.9rem;
  line-height: 1.5;
}

.alert-warning {
  background-color: var(--warning-100);
  border-color: var(--warning-300);
  color: var(--warning-600);
}

.alert-danger,
.alert-error {
  background-color: var(--danger-100);
  border-color: var(--danger-300);
  color: var(--danger-600);
}

.alert-success {
  background-color: var(--success-100);
  border-color: var(--success-300);
  color: var(--success-600);
}

.alert-info {
  background-color: var(--info-100);
  border-color: var(--info-300);
  color: var(--info-600);
}

.alert-close {
  margin-left: auto;
  flex-shrink: 0;
  background: none;
  border: none;
  cursor: pointer;
  color: inherit;
  opacity: 0.7;
  font-size: 0.9rem;
  padding: 0 var(--space-1);
  line-height: 1;
}
.alert-close:hover { opacity: 1; }

/* =====================================================================
   List Group
   Bootstrap-compatible .list-group-item for layout in system-health etc.
   ===================================================================== */

.list-group {
  display: flex;
  flex-direction: column;
  padding: 0;
  margin: 0;
  list-style: none;
}

.list-group-item {
  display: flex;
  align-items: center;
  padding: var(--space-3) 0;
  border-bottom: 1px solid var(--border);
  font-size: 0.9rem;
  color: var(--color-text);
  background: transparent;
}

.list-group-item:last-child {
  border-bottom: none;
}

.list-group-item.px-0 {
  padding-left: 0;
  padding-right: 0;
}

.list-group-item.border-0 {
  border: none;
}
