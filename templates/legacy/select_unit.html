{% extends "base.html" %}
{% import "macros.html" as ui %}

{% block body_class %}units-page{% endblock %}

{% block content %}
<div class="page-shell">
<div class="page-surface" aria-labelledby="select-unit-heading">
    <div class="dashboard-header">
        <div class="header-content">
            <h1 class="dashboard-title" id="select-unit-heading">
                <i class="fas fa-warehouse"></i>
                Select Growth Unit
            </h1>
            <p class="dashboard-subtitle">Choose which growth unit to manage</p>
        </div>
        <div class="dashboard-status">
            <span class="status-indicator connected">
                <i class="fas fa-layer-group"></i> Unit Selection
            </span>
        </div>
    </div>

<section class="management-section">
    <div class="card">
        <form method="POST" action="{{ url_for('ui.select_unit') }}" class="modern-form">
          <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
          <input type="hidden" name="next" value="{{ request.args.get('next', url_for('ui.index')) }}">
          {% call ui.select_field('unit_id', 'Choose a Growth Unit:', [], name_attr='unit_id', required=True, help_text='', help_class='field-hint') %}
              {% for unit in growth_units %}
                  <option value="{{ unit.unit_id }}">{{ unit.name }} ({{ unit.location }})</option>
              {% endfor %}
          {% endcall %}
          <button type="submit" class="btn btn-primary">Confirm</button>
        </form>
    </div>
</section>
</div>
</div>
{% endblock %}
